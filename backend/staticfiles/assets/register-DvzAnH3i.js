console.log("OK");document.addEventListener("DOMContentLoaded",function(){const r=document.querySelector("form"),c=r.querySelector("input[type='text']"),u=r.querySelectorAll("input[type='password']")[0],i=r.querySelectorAll("input[type='password']")[1];r.querySelector("button").addEventListener("click",function(s){s.preventDefault();const n=c.value.trim(),e=u.value,t=i.value;if(!n||!e||!t){alert("Пожалуйста, заполните все поля");return}if(e!==t){alert("Пароли не совпадают");return}fetch("/api/register/",{method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":l("csrftoken")},body:JSON.stringify({username:n,password1:e,password2:t})}).then(o=>o.json()).then(o=>{o.success?(alert("Регистрация прошла успешно"),window.location.href="/"):alert(o.error||"Ошибка регистрации")}).catch(o=>{console.error("Ошибка:",o),alert("Произошла ошибка при подключении")})});function l(s){const n=document.cookie.split(";");for(let e=0;e<n.length;e++){const t=n[e].trim();if(t.startsWith(s+"="))return decodeURIComponent(t.substring(s.length+1))}return null}});
